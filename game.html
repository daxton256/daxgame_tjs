<style>
    body {
        margin: 0%;
    }
</style>
<canvas id="game" style="position: absolute; top: 0%; left: 0%; z-index: -1;"></canvas>
<div id="ui" style="position: absolute; top: 0%; left: 0%; user-select: none;">
    <p style="color: white;" id="debug">debug message</p>
</div>
<script type="module">
import * as THREE from 'three';
//2D UI setup and function declaration
console.log = function(msg){
    document.getElementById("debug").innerText = msg;
};


const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
const renderer = new THREE.WebGLRenderer({canvas: game});
renderer.setSize( window.innerWidth, window.innerHeight );

var objects = []
var ss = [
        {"id": "c847b4f82402072d", "type": "worldFloor", "model": "defualt1", "pos": {"x": 0, "y": 2, "z": 3}, "rot": {"x": 0, "y": 0, "z": 0}, "scale": {"x": 10, "y": 0.1, "z": 10}},
        {"id": "9605f2bc71bceb17", "type": "building", "model": "building1", "pos": {"x": 0, "y": 0, "z": 0}, "rot": {"x": 0, "y": 0, "z": 0}, "scale": {"x": 1, "y": 1, "z": 1}}
     ];
ss.forEach(element => {
    const geometry = new THREE.BoxGeometry( 1, 1, 1 );
    const material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
    const cube = new THREE.Mesh( geometry, material );
    cube.position.x = element.pos.x;
    cube.position.y = element.pos.y;
    cube.position.z = element.pos.z;
    objects.push(cube);
    scene.add( cube );
    console.log("created " + element.id);
});

camera.position.z = 5;

function animate() {

    objects.forEach(element => {
        element.rotation.x += 0.01;
        element.rotation.z += 0.01;
    });

	renderer.render( scene, camera );

}

setInterval(animate, 0);
</script>